import math

# 纯律 just intonation
ji_table = [
	1,     # C
	16/15, # D♭-
	9/8,   # D
	6/5,   # E♭
	5/4,   # E
	4/3,   # F
	45/32, # F♯+
	3/2,   # G
	8/5,   # A♭
	5/3,   # A
	16/9,  # B♭-
	15/8,  # B
]

# 五度相生律 Pythagorean tuning
pt_table = [
	1,          # C
	3**7/2**11, # C♯
	3**2/2**3,  # D
	2**5/3**3,  # E♭
	3**4/2**6,  # E
	2**2/3,     # F
	3**6/2**9,  # F♯
	3/2,        # G
	3**8/2**12, # G♯
	3**3/2**4,  # A
	2**4/3**2,  # B♭
	3**5/2**7,  # B
]

# 十二平均律 equal temperament
et_table = list(map(lambda x: 2**(x/12), range(12)))

#燕园情简谱
yyq_num = [
83,83,83,83,83,83,81,83,74,74,74,74,74,74,74,74,83,83,83,83,83,83,81,83,86,86,86,86,86,86,83,86,88,88,88,88,88,88,86,88,79,79,79,79,79,79,79,79,76,74,76,79,81,79,81,83,81,81,81,81,81,81,81,81,83,83,83,83,83,83,81,83,74,74,74,74,74,74,74,74,83,83,83,83,83,83,81,83,86,86,86,86,86,86,83,86,88,88,88,88,88,88,86,88,79,79,79,79,79,79,79,79,76,74,76,79,81,79,81,83,79,79,79,79,79,79,79,79,88,88,88,88,84,84,79,88,86,86,86,86,83,83,83,79,81,81,81,83,81,81,81,79,83,83,83,83,83,83,79,79,88,88,88,88,84,84,79,88,86,86,86,86,83,83,83,83,81,81,81,79,81,81,81,83,81,81,81,81,81,81,74,74,83,83,83,83,79,79,74,86,83,83,83,83,83,83,83,83,84,84,84,86,88,88,88,86,84,84,84,84,84,84,76,76,83,83,83,83,81,81,88,79,83,83,83,83,81,81,81,83,81,81,81,79,81,81,81,83,79,79,79,79,79,79,79,79,88,88,88,88,88,88,79,88,86,86,86,86,86,86,79,79,88,88,88,88,88,88,84,88,86,86,86,86,86,86,74,74,83,83,83,84,81,81,76,79,81,81,81,83,86,86,86,86,86,79,79,88,88,88,88,88,79,88,86,86,86,86,86,86,79,79,88,88,88,88,88,88,84,88,86,86,86,86,86,86,74,74,83,83,83,86,81,81,76,79,81,81,81,81,83,83,83,83,79,79,79,79,79,79
]


def generate_freq_table(table, filename, num_notation ):
	with open(filename, 'w') as file:
		for tone in num_notation:
			group = -1 + math.floor(tone / 12)
			base = 440 / table[9] * 2**(group - 4)
			file.write("{0},".format(round(base * table[tone % 12] * 1000)))

if __name__ == '__main__':
	generate_freq_table(ji_table, "yyq_ji.txt", yyq_num)
	generate_freq_table(pt_table, "yyq_pt.txt", yyq_num)
	generate_freq_table(et_table, "yyq_et.txt", yyq_num)