from sklearn import svm
import math
import collections

et_freqs = [987767,987767,987767,987767,987767,987767,880000,987767,587330,587330,587330,587330,587330,587330,587330,587330,987767,987767,987767,987767,987767,987767,880000,987767,1174659,1174659,1174659,1174659,1174659,1174659,987767,1174659,1318510,1318510,1318510,1318510,1318510,1318510,1174659,1318510,783991,783991,783991,783991,783991,783991,783991,783991,659255,587330,659255,783991,880000,783991,880000,987767,880000,880000,880000,880000,880000,880000,880000,880000,987767,987767,987767,987767,987767,987767,880000,987767,587330,587330,587330,587330,587330,587330,587330,587330,987767,987767,987767,987767,987767,987767,880000,987767,1174659,1174659,1174659,1174659,1174659,1174659,987767,1174659,1318510,1318510,1318510,1318510,1318510,1318510,1174659,1318510,783991,783991,783991,783991,783991,783991,783991,783991,659255,587330,659255,783991,880000,783991,880000,987767,783991,783991,783991,783991,783991,783991,783991,783991,1318510,1318510,1318510,1318510,1046502,1046502,783991,1318510,1174659,1174659,1174659,1174659,987767,987767,987767,783991,880000,880000,880000,987767,880000,880000,880000,783991,987767,987767,987767,987767,987767,987767,783991,783991,1318510,1318510,1318510,1318510,1046502,1046502,783991,1318510,1174659,1174659,1174659,1174659,987767,987767,987767,987767,880000,880000,880000,783991,880000,880000,880000,987767,880000,880000,880000,880000,880000,880000,587330,587330,987767,987767,987767,987767,783991,783991,587330,1174659,987767,987767,987767,987767,987767,987767,987767,987767,1046502,1046502,1046502,1174659,1318510,1318510,1318510,1174659,1046502,1046502,1046502,1046502,1046502,1046502,659255,659255,987767,987767,987767,987767,880000,880000,1318510,783991,987767,987767,987767,987767,880000,880000,880000,987767,880000,880000,880000,783991,880000,880000,880000,987767,783991,783991,783991,783991,783991,783991,783991,783991,1318510,1318510,1318510,1318510,1318510,1318510,783991,1318510,1174659,1174659,1174659,1174659,1174659,1174659,783991,783991,1318510,1318510,1318510,1318510,1318510,1318510,1046502,1318510,1174659,1174659,1174659,1174659,1174659,1174659,587330,587330,987767,987767,987767,1046502,880000,880000,659255,783991,880000,880000,880000,987767,1174659,1174659,1174659,1174659,1174659,783991,783991,1318510,1318510,1318510,1318510,1318510,783991,1318510,1174659,1174659,1174659,1174659,1174659,1174659,783991,783991,1318510,1318510,1318510,1318510,1318510,1318510,1046502,1318510,1174659,1174659,1174659,1174659,1174659,1174659,587330,587330,987767,987767,987767,1174659,880000,880000,659255,783991,880000,880000,880000,880000,987767,987767,987767,987767,783991,783991,783991,783991,783991,783991,]

ji_freqs = [990000,990000,990000,990000,990000,990000,880000,990000,594000,594000,594000,594000,594000,594000,594000,594000,990000,990000,990000,990000,990000,990000,880000,990000,1188000,1188000,1188000,1188000,1188000,1188000,990000,1188000,1320000,1320000,1320000,1320000,1320000,1320000,1188000,1320000,792000,792000,792000,792000,792000,792000,792000,792000,660000,594000,660000,792000,880000,792000,880000,990000,880000,880000,880000,880000,880000,880000,880000,880000,990000,990000,990000,990000,990000,990000,880000,990000,594000,594000,594000,594000,594000,594000,594000,594000,990000,990000,990000,990000,990000,990000,880000,990000,1188000,1188000,1188000,1188000,1188000,1188000,990000,1188000,1320000,1320000,1320000,1320000,1320000,1320000,1188000,1320000,792000,792000,792000,792000,792000,792000,792000,792000,660000,594000,660000,792000,880000,792000,880000,990000,792000,792000,792000,792000,792000,792000,792000,792000,1320000,1320000,1320000,1320000,1056000,1056000,792000,1320000,1188000,1188000,1188000,1188000,990000,990000,990000,792000,880000,880000,880000,990000,880000,880000,880000,792000,990000,990000,990000,990000,990000,990000,792000,792000,1320000,1320000,1320000,1320000,1056000,1056000,792000,1320000,1188000,1188000,1188000,1188000,990000,990000,990000,990000,880000,880000,880000,792000,880000,880000,880000,990000,880000,880000,880000,880000,880000,880000,594000,594000,990000,990000,990000,990000,792000,792000,594000,1188000,990000,990000,990000,990000,990000,990000,990000,990000,1056000,1056000,1056000,1188000,1320000,1320000,1320000,1188000,1056000,1056000,1056000,1056000,1056000,1056000,660000,660000,990000,990000,990000,990000,880000,880000,1320000,792000,990000,990000,990000,990000,880000,880000,880000,990000,880000,880000,880000,792000,880000,880000,880000,990000,792000,792000,792000,792000,792000,792000,792000,792000,1320000,1320000,1320000,1320000,1320000,1320000,792000,1320000,1188000,1188000,1188000,1188000,1188000,1188000,792000,792000,1320000,1320000,1320000,1320000,1320000,1320000,1056000,1320000,1188000,1188000,1188000,1188000,1188000,1188000,594000,594000,990000,990000,990000,1056000,880000,880000,660000,792000,880000,880000,880000,990000,1188000,1188000,1188000,1188000,1188000,792000,792000,1320000,1320000,1320000,1320000,1320000,792000,1320000,1188000,1188000,1188000,1188000,1188000,1188000,792000,792000,1320000,1320000,1320000,1320000,1320000,1320000,1056000,1320000,1188000,1188000,1188000,1188000,1188000,1188000,594000,594000,990000,990000,990000,1188000,880000,880000,660000,792000,880000,880000,880000,880000,990000,990000,990000,990000,792000,792000,792000,792000,792000,792000,]

pt_freqs = [990000,990000,990000,990000,990000,990000,880000,990000,586667,586667,586667,586667,586667,586667,586667,586667,990000,990000,990000,990000,990000,990000,880000,990000,1173333,1173333,1173333,1173333,1173333,1173333,990000,1173333,1320000,1320000,1320000,1320000,1320000,1320000,1173333,1320000,782222,782222,782222,782222,782222,782222,782222,782222,660000,586667,660000,782222,880000,782222,880000,990000,880000,880000,880000,880000,880000,880000,880000,880000,990000,990000,990000,990000,990000,990000,880000,990000,586667,586667,586667,586667,586667,586667,586667,586667,990000,990000,990000,990000,990000,990000,880000,990000,1173333,1173333,1173333,1173333,1173333,1173333,990000,1173333,1320000,1320000,1320000,1320000,1320000,1320000,1173333,1320000,782222,782222,782222,782222,782222,782222,782222,782222,660000,586667,660000,782222,880000,782222,880000,990000,782222,782222,782222,782222,782222,782222,782222,782222,1320000,1320000,1320000,1320000,1042963,1042963,782222,1320000,1173333,1173333,1173333,1173333,990000,990000,990000,782222,880000,880000,880000,990000,880000,880000,880000,782222,990000,990000,990000,990000,990000,990000,782222,782222,1320000,1320000,1320000,1320000,1042963,1042963,782222,1320000,1173333,1173333,1173333,1173333,990000,990000,990000,990000,880000,880000,880000,782222,880000,880000,880000,990000,880000,880000,880000,880000,880000,880000,586667,586667,990000,990000,990000,990000,782222,782222,586667,1173333,990000,990000,990000,990000,990000,990000,990000,990000,1042963,1042963,1042963,1173333,1320000,1320000,1320000,1173333,1042963,1042963,1042963,1042963,1042963,1042963,660000,660000,990000,990000,990000,990000,880000,880000,1320000,782222,990000,990000,990000,990000,880000,880000,880000,990000,880000,880000,880000,782222,880000,880000,880000,990000,782222,782222,782222,782222,782222,782222,782222,782222,1320000,1320000,1320000,1320000,1320000,1320000,782222,1320000,1173333,1173333,1173333,1173333,1173333,1173333,782222,782222,1320000,1320000,1320000,1320000,1320000,1320000,1042963,1320000,1173333,1173333,1173333,1173333,1173333,1173333,586667,586667,990000,990000,990000,1042963,880000,880000,660000,782222,880000,880000,880000,990000,1173333,1173333,1173333,1173333,1173333,782222,782222,1320000,1320000,1320000,1320000,1320000,782222,1320000,1173333,1173333,1173333,1173333,1173333,1173333,782222,782222,1320000,1320000,1320000,1320000,1320000,1320000,1042963,1320000,1173333,1173333,1173333,1173333,1173333,1173333,586667,586667,990000,990000,990000,1173333,880000,880000,660000,782222,880000,880000,880000,880000,990000,990000,990000,990000,782222,782222,782222,782222,782222,782222,]

def decpart(num):
	return num - math.floor(num)

def freq2centhist(freqs):
	hist = list(map(lambda _: 0, range(1200)))
	cents = list(map(
		lambda f: round(decpart(math.log2(f / 440000)) * 1200),
		freqs
	))
	for cent in cents:
		hist[cent] += 1
	return hist


training_data = [0 for i in range(6)]
training_label = [0 for i in range(6)]

testing_data = [0 for i in range(3)]
testing_label = [-1 for i in range(3)]

for i in range(2):
	training_data[i * 3 + 0] = freq2centhist(et_freqs[120 * i + 0 :120 * i + 120])
	training_data[i * 3 + 1] = freq2centhist(ji_freqs[120 * i + 0 :120 * i + 120])
	training_data[i * 3 + 2] = freq2centhist(pt_freqs[120 * i + 0 :120 * i + 120])
	training_label[i * 3 + 0] = 0
	training_label[i * 3 + 1] = 1
	training_label[i * 3 + 2] = 2

i = 2
testing_data[0] = freq2centhist(et_freqs[120 * i + 0 :120 * i + 120])
testing_data[1] = freq2centhist(ji_freqs[120 * i + 0 :120 * i + 120])
testing_data[2] = freq2centhist(pt_freqs[120 * i + 0 :120 * i + 120])



clf = svm.SVC(gamma='scale')
clf.fit(training_data, training_label)
for i in range(3):
	print (clf.predict([testing_data[i]]))
